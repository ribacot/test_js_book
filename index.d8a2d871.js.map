{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-8b595e56e62bc63d.js","src/index.js","src/js/categories.js","src/js/hero.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-15c55b5baf7fbabb.js","node_modules/@parcel/runtime-js/lib/runtime-81790f2ad89beb37.js","node_modules/@parcel/runtime-js/lib/runtime-7c3613854395aae1.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.d8a2d871.js\\\",\\\"aaLHb\\\":\\\"amazon.40ba9165.png\\\",\\\"cL3Jl\\\":\\\"book.89e7d427.png\\\",\\\"jr1cR\\\":\\\"book-block.1363ec1c.png\\\",\\\"hcYG2\\\":\\\"index.53513e43.js\\\"}\"));","import \"./js/header\";\nimport \"./js/dark-theme\";\nimport \"./js/categories\";\nimport \"./js/support\";\nimport \"./js/hero\";\nimport \"./js/modal\";\nimport \"./js/loader\";\nimport \"./js/scrollUp\";\n\n\n","import { getQuery } from './hero';\nimport { container as bookCard } from './hero';\nimport { markup } from './hero';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst categoryList = document.querySelector('.category-list');\nconst axios = require('axios').default;\nconst btn = document.querySelector('.container-books');\n\nbtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(event) {\n  let btn = event.target.dataset.catname;\n\n  const itemEl = Array.from(categoryList.querySelectorAll('li'));\n\n  const findElem = itemEl.find(li => li.innerText === btn);\n  const allCat = itemEl.find(\n    li => li.innerText.toLowerCase() === `all categories`\n  );\n\n  if (findElem) {\n    allCat.classList.remove('categories__title-active');\n    findElem.classList.add('categories__title-active');\n  }\n  return;\n}\n\ncategoryList.addEventListener('click', onCategoryListClick);\n\ngetCategoryList();\n\nasync function getCategoryList() {\n  try {\n    const response = await axios.get(\n      `https://books-backend.p.goit.global/books/category-list`\n    );\n    renderCategory(response.data);\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction renderCategory(data) {\n  let markup = data\n    .map(\n      ({ list_name }) => `<li class = \"category-list-item\"> ${list_name} </li>`\n    )\n    .join('');\n  markup = `<li class = \"category-list-item\"> All Categories </li>` + markup;\n  categoryList.innerHTML = markup;\n}\n\nfunction onCategoryListClick(event) {\n  const idElem = event.target;\n  const elem = document.querySelector('.categories__title-active');\n\n  if (idElem.tagName !== 'LI') {\n    return;\n  } else if (elem) {\n    elem.classList.remove('categories__title-active');\n  }\n  event.target.classList.add('categories__title-active');\n\n  if (idElem.textContent.trim() === 'All Categories') {\n    bookCard.innerHTML = '';\n    return getQuery();\n  }\n  getBookByCategory(idElem.textContent.trim());\n}\n\nexport async function getBookByCategory(changeCategory) {\n  await axios\n    .get(\n      `https://books-backend.p.goit.global/books/category?category=${changeCategory}`\n    )\n    .then(({ data }) => renderedBookCardItem(data));\n}\n\nfunction renderedBookCardItem(data) {\n  const markup = `\n    <h2 class =\"main-title\">${data[0].list_name}</h2>\n    <ul class=\"book-list\">${data\n      .map(\n        ({ author, book_image, title, _id }) =>\n          `<li class=\"bs-list-item\">\n          <div class=\"book-card \" data-id=\"${_id}\">\n    <div class=\"image-overlay\" data-id=\"${_id}\">\n    <img class=\"book-img js-ct\" src=\"${book_image}\" alt=\"${title} loading=\"lazy\" >\n    <div class=\"image-description\" data-id=\"${_id}\">\n      <p class=\"image-overlay-description js-ct\"> quick view  </p>\n     </div>\n      </div>\n    <h3 class=\"book-title js-ct\">${title}</h3>\n    <p class=\"book-author js-ct\"> ${author}</p>\n    </div>\n    </li>`\n      )\n      .join('')}\n    </ul>\n     `;\n  bookCard.innerHTML = markup;\n  const titleElement = document.querySelector('.main-title');\n  const titleText = titleElement.textContent;\n  const words = titleText.split(' ');\n  const lastWord = words[words.length - 1];\n  titleElement.innerHTML = titleText.replace(\n    lastWord,\n    `<span class=\"brendcolor\">${lastWord}</span>`\n  );\n}\n","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nexport const container = document.querySelector('.container-books');\n\nif (!container.firstChild) getQuery();\n\nfunction changeName() {}\n\nexport async function getQuery() {\n  try {\n    const resp = await axios.get(\n      `https://books-backend.p.goit.global/books/top-books `\n    );\n    container.insertAdjacentHTML('beforeend', markup(resp.data));\n  } catch (err) {\n     Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction markup(data) {\n  let html = '';\n  data.forEach(el => {\n    let catName = el.list_name;\n    let list = el.books\n      .map(\n        ({ book_image, author, title, _id }) =>\n          `<li class=\"bs-list-item\" hidden>\n        <div class=\"book-card\" data-id=\"${_id}\">\n        <div class=\"image-overlay\" data-id=\"${_id}\">\n            <img class=\"book-img js-ct\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\" />\n            <div class=\"image-description\" data-id=\"${_id}\">\n      <p class=\"image-overlay-description js-ct\">quick view</p>\n     </div>\n      </div>\n            <h3 class=\"book-title js-ct\">${title}</h3>\n            <h4 class=\"book-author js-ct\">${author}</h4>\n        </div>\n        </li>`\n      )\n      .join('');\n    html += `<div class=\"category-block\">\n        <h2 class=\"cat-title\">${el.list_name}</h2>\n        <ul class=\"book-list\">${list}</ul>\n        <button type=\"button\" class=\"btn-more\" data-catname=\"${catName}\">SEE MORE</button>\n    </div>`;\n  });\n\n  html = `<h1 class=\"main-title\">Best Sellers <span>Books</span></h1>` + html;\n  return html;\n}\n","import { container as containerEl } from './hero';\nimport { getBookByCategory } from './categories';\nimport amazon from '../images/amazon.png';\nimport applebooks from '../images/book.png';\nimport bookshop from '../images/book-block.png';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst modalEl = document.querySelector('.backdrop');\nconst modalCard = document.querySelector('.modal');\nconst closeButtonEl = document.querySelector('.modal-shopping-close');\nconst modalShoppingEl = document.querySelector('.render-modal');\nconst scrollUpBntEl = document.querySelector('.scroll-btn');\nlet bookIdent;\n\nfunction isLocalStorage() {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n  if (!savedBooks) {\n    localStorage.setItem('savedBooks', JSON.stringify([]));\n  }\n}\n\nfunction closeModal() {\n  modalEl.classList.remove('active');\n  modalCard.classList.remove('active');\n  scrollUpBntEl.classList.remove(\"visually-hidden\");\n  document.body.style.overflow = 'auto';\n}\n\nasync function fetchBookDetails(bookId) {\n  try {\n    const url = `https://books-backend.p.goit.global/books/${bookId}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Error: ${response.status} ${response.statusText}`);\n    }\n\n    const bookData = await response.json();\n    return [bookData];\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction renderModal(bookData) {\n  const modalMarkup = bookData\n    .map(data => {\n      return `\n        <div class=\"card-modal\" id=\"${data._id}\">\n        <img\n          class=\"modal-img\"\n          alt=\"${data.title}\"\n          src=\"${data.book_image}\"\n        />\n  \n        <div class=\"thumb-modal\">\n          <h2 class=\"book-title-in-modal\">${data.title}</h2>\n          <p class=\"subtitle-book\">${data.author}</p>\n          <p class=\"text book\">\n          ${\n            data.description\n              ? data.description\n              : 'Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops'\n          }\n          </p>\n          <ul class=\"shop-list\">\n            <li>\n              <a href=\"${data.buy_links[0].url}\" target=\"_blank\">\n                <img src=\"${amazon}\" alt=\"Amazon\" class=\"darkFilterModal\"/>\n              </a>\n            </li>\n            <li>\n              <a href=\"${data.buy_links[1].url}\" target=\"_blank\">\n                <img src=\"${applebooks}\" alt=\"Apple Books\" />\n              </a>\n            </li>\n            <li>\n              <a href=\"${data.buy_links[4].url}\" target=\"_blank\">\n                <img src=\"${bookshop}\" alt=\"Bookshop\" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n        `;\n    })\n    .join('');\n\n  modalShoppingEl.insertAdjacentHTML('beforeend', modalMarkup);\n}\n\n// Застосування білого фільтру для картинки Амазон\n\nconst imgFilterAmazon = () => {\n  const forAmazonFilterModal = document.querySelector('.darkFilterModal');\n\n  if (localStorage.getItem('theme') === 'dark') {\n    forAmazonFilterModal.classList.add('filter-img');\n    \n  } else {\n    forAmazonFilterModal.classList.remove('filter-img');\n  }\n};\n\nasync function callModal(bookId) {\n  try { \n    scrollUpBntEl.classList.add(\"visually-hidden\");\n    modalShoppingEl.innerHTML = '';\n    const bookData = await fetchBookDetails(bookId);\n    bookIdent = bookData[0]._id;\n\n    renderModal(bookData);\n    imgFilterAmazon();\n    renderModalButton(bookIdent);\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nasync function saveObjectLocal(bookIdent) {\n  try {\n    const bookData = await fetchBookDetails(bookIdent);\n\n    const {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      buy_links,\n    } = bookData[0];\n\n    const savedBook = {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      buy_links,\n    };\n\n    const savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];\n\n    savedBooks.push(savedBook);\n\n    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction deleteObjectLocal(bookIdent) {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n\n  const index = savedBooks.findIndex(book => book._id === bookIdent);\n\n  if (index !== -1) {\n    savedBooks.splice(index, 1);\n  }\n\n  localStorage.setItem('savedBooks', JSON.stringify(savedBooks));\n}\n\nfunction renderModalButton(bookIdent) {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n\n  if (savedBooks.some(book => book._id === bookIdent)) {\n    const modalBtn = `\n      <button type=\"submit\" class=\"button book\" aria-label=\"Remove from shopping\">\n        Remove from the shopping list\n      </button>\n      <p class=\"congratulation\">\n        Сongratulations! You have added the book to the shopping list. To delete,\n        press the button “Remove from the shopping list”.\n      </p>\n    `;\n    modalShoppingEl.insertAdjacentHTML('beforeend', modalBtn);\n\n    const submitShoppingEl = document.querySelector('.button.book');\n\n    let isLogin = JSON.parse(localStorage.getItem('userLogin'));\n\n    if (!isLogin) {\n      submitShoppingEl.disabled = true;\n      submitShoppingEl.textContent = 'Login please';\n    }\n\n    submitShoppingEl.addEventListener('click', handleRemoveButtonClick);\n    \n  } else {\n    const modalBtn = `\n      <button type=\"submit\" class=\"button book\" aria-label=\"Add to shopping\">\n        Add to shopping list\n      </button>\n    `;\n    modalShoppingEl.insertAdjacentHTML('beforeend', modalBtn);\n\n    const submitShoppingEl = document.querySelector('.button.book');\n\n    let isLogin = JSON.parse(localStorage.getItem('userLogin'));\n\n    if (!isLogin) {\n      submitShoppingEl.disabled = true;\n      submitShoppingEl.textContent = 'Login please';\n    }\n\n    submitShoppingEl.addEventListener('click', handleAddButtonClick);\n  }\n}\n\n\nfunction handleAddButtonClick(event) {\n  saveObjectLocal(bookIdent);\n  closeModal();\n  removeModalButtonEventListeners();\n}\n\nfunction handleRemoveButtonClick(event) {\n  deleteObjectLocal(bookIdent);\n  closeModal();\n  removeModalButtonEventListeners();\n}\n\nfunction removeModalButtonEventListeners() {\n  const submitShoppingEl = document.querySelector('.button.book');\n  submitShoppingEl.removeEventListener('click', handleRemoveButtonClick);\n  submitShoppingEl.removeEventListener('click', handleAddButtonClick);\n}\n\nfunction modalBackdropClose(event) {\n  if (event.target === modalEl) {\n    closeModal();\n    removeModalEventListeners();\n  }\n}\n\nfunction modalCloseButtonClick(event) {\n  closeModal();\n  removeModalEventListeners();\n}\n\nfunction escapeKeyClose(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n    removeModalEventListeners();\n  }\n}\n\nfunction removeModalEventListeners() {\n  modalEl.removeEventListener('click', modalBackdropClose);\n  document.removeEventListener('keydown', escapeKeyClose);\n  closeButtonEl.removeEventListener('click', modalCloseButtonClick);\n}\n\nisLocalStorage();\n\nwindow.addEventListener('load', function () {\n  containerEl.addEventListener('click', containerClick);\n});\n\nfunction containerClick(event) {\n  let bookId;\n\n  if (event.target.tagName === 'BUTTON') {\n    getBookByCategory(event.target.dataset.catname);\n  }\n  if (event.target.classList.value.includes('js-ct')) {\n    bookId = event.target.parentElement.dataset.id;\n  }\n\n  if (bookId) {\n    callModal(bookId);\n    modalEl.classList.add('active');\n    modalCard.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    modalEl.addEventListener('click', modalBackdropClose);\n    document.addEventListener('keydown', escapeKeyClose);\n    closeButtonEl.addEventListener('click', modalCloseButtonClick);\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"cL3Jl\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"jr1cR\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$c519d076f6352209$export$34e0f9847d4c02dd","document","querySelector","$c519d076f6352209$export$71eec30d9db46a56","$c519d076f6352209$var$_getQuery","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","resp","$dIxxU","default","get","_ctx","sent","insertAdjacentHTML","$c519d076f6352209$var$markup","data","$h6c0i","Notify","warning","html","forEach","el","catName","list_name","list","books","map","param","book_image","author","title","_id","concat","join","firstChild","$7035cf87bda54340$var$categoryList","$7035cf87bda54340$var$_getCategoryList","$7035cf87bda54340$require$axios","$7035cf87bda54340$var$renderCategory","markup1","innerHTML","$7035cf87bda54340$export$3356e9d9184fb14f","changeCategory","$7035cf87bda54340$var$_getBookByCategory","then","$7035cf87bda54340$var$renderedBookCardItem","markup2","titleElement","titleText","textContent","words","split","lastWord","length","replace","addEventListener","event","btn1","target","dataset","catname","itemEl","Array","from","querySelectorAll","findElem","find","li","innerText","allCat","toLowerCase","classList","remove","add","idElem","elem","tagName","trim","$7035cf87bda54340$var$getCategoryList","$efa53af8736da6e0$exports","getBundleURL","resolve","$884ddd26a633c596$exports","$af4a6a7714801866$exports","$40873ecf3c18e122$var$bookIdent","$40873ecf3c18e122$var$modalEl","$40873ecf3c18e122$var$modalCard","$40873ecf3c18e122$var$closeButtonEl","$40873ecf3c18e122$var$modalShoppingEl","$40873ecf3c18e122$var$scrollUpBntEl","$40873ecf3c18e122$var$closeModal","body","style","overflow","$40873ecf3c18e122$var$fetchBookDetails","bookId","$40873ecf3c18e122$var$_fetchBookDetails","url","response","bookData","fetch","ok","Error","status","statusText","json","$40873ecf3c18e122$var$renderModal","modalMarkup","description","buy_links","$40873ecf3c18e122$var$imgFilterAmazon","forAmazonFilterModal","localStorage","getItem","$40873ecf3c18e122$var$_callModal","$40873ecf3c18e122$var$renderModalButton","$40873ecf3c18e122$var$_saveObjectLocal","bookIdent1","ref","savedBook","savedBooks","push","setItem","stringify","bookIdent3","some","book","submitShoppingEl","disabled","$40873ecf3c18e122$var$handleRemoveButtonClick","submitShoppingEl1","$40873ecf3c18e122$var$handleAddButtonClick","$40873ecf3c18e122$var$saveObjectLocal","$40873ecf3c18e122$var$removeModalButtonEventListeners","bookIdent2","index","findIndex","splice","removeEventListener","$40873ecf3c18e122$var$modalBackdropClose","$40873ecf3c18e122$var$removeModalEventListeners","$40873ecf3c18e122$var$modalCloseButtonClick","$40873ecf3c18e122$var$escapeKeyClose","key","$40873ecf3c18e122$var$containerClick","value","includes","parentElement","id","$40873ecf3c18e122$var$callModal","window"],"version":3,"file":"index.d8a2d871.js.map"}