{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-2fe2556e09134af6.js","src/index.js","src/js/hero.js","src/js/categories.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-496df7d8a4de0d93.js","node_modules/@parcel/runtime-js/lib/runtime-27e53696eb5cee31.js","src/js/modal.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.a93f99b3.js\\\",\\\"1yVwl\\\":\\\"amazon.40ba9165.png\\\",\\\"fIBw5\\\":\\\"book.89e7d427.png\\\",\\\"fSsri\\\":\\\"book-block.1363ec1c.png\\\",\\\"fwWPP\\\":\\\"index.e528f7ad.js\\\"}\"));","import \"./js/header\";\nimport \"./js/dark-theme\";\nimport \"./js/categories\";\nimport \"./js/support\";\nimport \"./js/hero\";\nimport \"./js/modal\";\nimport \"./js/loader\";\nimport \"./js/scrollUp\";\n\n\n","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nexport const container = document.querySelector('.container-books');\n\nif (!container.firstChild) getQuery();\n\nfunction changeName() {}\n\nexport async function getQuery() {\n  try {\n    const resp = await axios.get(\n      `https://books-backend.p.goit.global/books/top-books `\n    );\n    container.insertAdjacentHTML('beforeend', markup(resp.data));\n  } catch (err) {\n     Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction markup(data) {\n  let html = '';\n  data.forEach(el => {\n    let catName = el.list_name;\n    let list = el.books\n      .map(\n        ({ book_image, author, title, _id }) =>\n          `<li class=\"bs-list-item\" hidden>\n        <div class=\"book-card\" data-id=\"${_id}\">\n        <div class=\"image-overlay\" data-id=\"${_id}\">\n            <img class=\"book-img js-ct\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\" />\n            <div class=\"image-description\" data-id=\"${_id}\">\n      <p class=\"image-overlay-description js-ct\">quick view</p>\n     </div>\n      </div>\n            <h3 class=\"book-title js-ct\">${title}</h3>\n            <h4 class=\"book-author js-ct\">${author}</h4>\n        </div>\n        </li>`\n      )\n      .join('');\n    html += `<div class=\"category-block\">\n        <h2 class=\"cat-title\">${el.list_name}</h2>\n        <ul class=\"book-list\">${list}</ul>\n        <button type=\"button\" class=\"btn-more\" data-catname=\"${catName}\">SEE MORE</button>\n    </div>`;\n  });\n\n  html = `<h1 class=\"main-title\">Best Sellers <span>Books</span></h1>` + html;\n  return html;\n}\n","import { getQuery } from './hero';\nimport { container as bookCard } from './hero';\nimport { markup } from './hero';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst categoryList = document.querySelector('.category-list');\nconst axios = require('axios').default;\nconst btn = document.querySelector('.container-books');\n\nbtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(event) {\n  let btn = event.target.dataset.catname;\n\n  const itemEl = Array.from(categoryList.querySelectorAll('li'));\n\n  const findElem = itemEl.find(li => li.innerText === btn);\n  const allCat = itemEl.find(\n    li => li.innerText.toLowerCase() === `all categories`\n  );\n\n  if (findElem) {\n    allCat.classList.remove('categories__title-active');\n    findElem.classList.add('categories__title-active');\n  }\n  return;\n}\n\ncategoryList.addEventListener('click', onCategoryListClick);\n\ngetCategoryList();\n\nasync function getCategoryList() {\n  try {\n    const response = await axios.get(\n      `https://books-backend.p.goit.global/books/category-list`\n    );\n    renderCategory(response.data);\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction renderCategory(data) {\n  let markup = data\n    .map(\n      ({ list_name }) => `<li class = \"category-list-item\"> ${list_name} </li>`\n    )\n    .join('');\n  markup = `<li class = \"category-list-item\"> All Categories </li>` + markup;\n  categoryList.innerHTML = markup;\n}\n\nfunction onCategoryListClick(event) {\n  const idElem = event.target;\n  const elem = document.querySelector('.categories__title-active');\n\n  if (idElem.tagName !== 'LI') {\n    return;\n  } else if (elem) {\n    elem.classList.remove('categories__title-active');\n  }\n  event.target.classList.add('categories__title-active');\n\n  if (idElem.textContent.trim() === 'All Categories') {\n    bookCard.innerHTML = '';\n    return getQuery();\n  }\n  getBookByCategory(idElem.textContent.trim());\n}\n\nexport async function getBookByCategory(changeCategory) {\n  await axios\n    .get(\n      `https://books-backend.p.goit.global/books/category?category=${changeCategory}`\n    )\n    .then(({ data }) => renderedBookCardItem(data));\n}\n\nfunction renderedBookCardItem(data) {\n  const markup = `\n    <h2 class =\"main-title\">${data[0].list_name}</h2>\n    <ul class=\"book-list\">${data\n      .map(\n        ({ author, book_image, title, _id }) =>\n          `<li class=\"bs-list-item\">\n          <div class=\"book-card \" data-id=\"${_id}\">\n    <div class=\"image-overlay\" data-id=\"${_id}\">\n    <img class=\"book-img js-ct\" src=\"${book_image}\" alt=\"${title} loading=\"lazy\" >\n    <div class=\"image-description\" data-id=\"${_id}\">\n      <p class=\"image-overlay-description js-ct\"> quick view  </p>\n     </div>\n      </div>\n    <h3 class=\"book-title js-ct\">${title}</h3>\n    <p class=\"book-author js-ct\"> ${author}</p>\n    </div>\n    </li>`\n      )\n      .join('')}\n    </ul>\n     `;\n  bookCard.innerHTML = markup;\n  const titleElement = document.querySelector('.main-title');\n  const titleText = titleElement.textContent;\n  const words = titleText.split(' ');\n  const lastWord = words[words.length - 1];\n  titleElement.innerHTML = titleText.replace(\n    lastWord,\n    `<span class=\"brendcolor\">${lastWord}</span>`\n  );\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fIBw5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fSsri\")).toString();","import { container as containerEl } from './hero';\nimport { getBookByCategory } from './categories';\nimport amazon from '../images/amazon.png';\nimport applebooks from '../images/book.png';\nimport bookshop from '../images/book-block.png';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst modalEl = document.querySelector('.backdrop');\nconst modalCard = document.querySelector('.modal');\nconst closeButtonEl = document.querySelector('.modal-shopping-close');\nconst modalShoppingEl = document.querySelector('.render-modal');\nconst scrollUpBntEl = document.querySelector('.scroll-btn');\nlet bookIdent;\n\nfunction isLocalStorage() {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n  if (!savedBooks) {\n    localStorage.setItem('savedBooks', JSON.stringify([]));\n  }\n}\n\nfunction closeModal() {\n  modalEl.classList.remove('active');\n  modalCard.classList.remove('active');\n  scrollUpBntEl.classList.remove(\"visually-hidden\");\n  document.body.style.overflow = 'auto';\n}\n\nasync function fetchBookDetails(bookId) {\n  try {\n    const url = `https://books-backend.p.goit.global/books/${bookId}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Error: ${response.status} ${response.statusText}`);\n    }\n\n    const bookData = await response.json();\n    return [bookData];\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction renderModal(bookData) {\n  const modalMarkup = bookData\n    .map(data => {\n      return `\n        <div class=\"card-modal\" id=\"${data._id}\">\n        <img\n          class=\"modal-img\"\n          alt=\"${data.title}\"\n          src=\"${data.book_image}\"\n        />\n  \n        <div class=\"thumb-modal\">\n          <h2 class=\"book-title-in-modal\">${data.title}</h2>\n          <p class=\"subtitle-book\">${data.author}</p>\n          <p class=\"text book\">\n          ${\n            data.description\n              ? data.description\n              : 'Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops'\n          }\n          </p>\n          <ul class=\"shop-list\">\n            <li>\n              <a href=\"${data.buy_links[0].url}\" target=\"_blank\">\n                <img src=\"${amazon}\" alt=\"Amazon\" class=\"darkFilterModal\"/>\n              </a>\n            </li>\n            <li>\n              <a href=\"${data.buy_links[1].url}\" target=\"_blank\">\n                <img src=\"${applebooks}\" alt=\"Apple Books\" />\n              </a>\n            </li>\n            <li>\n              <a href=\"${data.buy_links[4].url}\" target=\"_blank\">\n                <img src=\"${bookshop}\" alt=\"Bookshop\" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n        `;\n    })\n    .join('');\n\n  modalShoppingEl.insertAdjacentHTML('beforeend', modalMarkup);\n}\n\n// Застосування білого фільтру для картинки Амазон\n\nconst imgFilterAmazon = () => {\n  const forAmazonFilterModal = document.querySelector('.darkFilterModal');\n\n  if (localStorage.getItem('theme') === 'dark') {\n    forAmazonFilterModal.classList.add('filter-img');\n    \n  } else {\n    forAmazonFilterModal.classList.remove('filter-img');\n  }\n};\n\nasync function callModal(bookId) {\n  try { \n    scrollUpBntEl.classList.add(\"visually-hidden\");\n    modalShoppingEl.innerHTML = '';\n    const bookData = await fetchBookDetails(bookId);\n    bookIdent = bookData[0]._id;\n\n    renderModal(bookData);\n    imgFilterAmazon();\n    renderModalButton(bookIdent);\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nasync function saveObjectLocal(bookIdent) {\n  try {\n    const bookData = await fetchBookDetails(bookIdent);\n\n    const {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      buy_links,\n    } = bookData[0];\n\n    const savedBook = {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      buy_links,\n    };\n\n    const savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];\n\n    savedBooks.push(savedBook);\n\n    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));\n  } catch (error) {\n    Notify.warning(\"Sorry, failed to load information\");\n  }\n}\n\nfunction deleteObjectLocal(bookIdent) {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n\n  const index = savedBooks.findIndex(book => book._id === bookIdent);\n\n  if (index !== -1) {\n    savedBooks.splice(index, 1);\n  }\n\n  localStorage.setItem('savedBooks', JSON.stringify(savedBooks));\n}\n\nfunction renderModalButton(bookIdent) {\n  const savedBooks = JSON.parse(localStorage.getItem('savedBooks'));\n\n  if (savedBooks.some(book => book._id === bookIdent)) {\n    const modalBtn = `\n      <button type=\"submit\" class=\"button book\" aria-label=\"Remove from shopping\">\n        Remove from the shopping list\n      </button>\n      <p class=\"congratulation\">\n        Сongratulations! You have added the book to the shopping list. To delete,\n        press the button “Remove from the shopping list”.\n      </p>\n    `;\n    modalShoppingEl.insertAdjacentHTML('beforeend', modalBtn);\n\n    const submitShoppingEl = document.querySelector('.button.book');\n\n    let isLogin = JSON.parse(localStorage.getItem('userLogin'));\n\n    if (!isLogin) {\n      submitShoppingEl.disabled = true;\n      submitShoppingEl.textContent = 'Login please';\n    }\n\n    submitShoppingEl.addEventListener('click', handleRemoveButtonClick);\n    \n  } else {\n    const modalBtn = `\n      <button type=\"submit\" class=\"button book\" aria-label=\"Add to shopping\">\n        Add to shopping list\n      </button>\n    `;\n    modalShoppingEl.insertAdjacentHTML('beforeend', modalBtn);\n\n    const submitShoppingEl = document.querySelector('.button.book');\n\n    let isLogin = JSON.parse(localStorage.getItem('userLogin'));\n\n    if (!isLogin) {\n      submitShoppingEl.disabled = true;\n      submitShoppingEl.textContent = 'Login please';\n    }\n\n    submitShoppingEl.addEventListener('click', handleAddButtonClick);\n  }\n}\n\n\nfunction handleAddButtonClick(event) {\n  saveObjectLocal(bookIdent);\n  closeModal();\n  removeModalButtonEventListeners();\n}\n\nfunction handleRemoveButtonClick(event) {\n  deleteObjectLocal(bookIdent);\n  closeModal();\n  removeModalButtonEventListeners();\n}\n\nfunction removeModalButtonEventListeners() {\n  const submitShoppingEl = document.querySelector('.button.book');\n  submitShoppingEl.removeEventListener('click', handleRemoveButtonClick);\n  submitShoppingEl.removeEventListener('click', handleAddButtonClick);\n}\n\nfunction modalBackdropClose(event) {\n  if (event.target === modalEl) {\n    closeModal();\n    removeModalEventListeners();\n  }\n}\n\nfunction modalCloseButtonClick(event) {\n  closeModal();\n  removeModalEventListeners();\n}\n\nfunction escapeKeyClose(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n    removeModalEventListeners();\n  }\n}\n\nfunction removeModalEventListeners() {\n  modalEl.removeEventListener('click', modalBackdropClose);\n  document.removeEventListener('keydown', escapeKeyClose);\n  closeButtonEl.removeEventListener('click', modalCloseButtonClick);\n}\n\nisLocalStorage();\n\nwindow.addEventListener('load', function () {\n  containerEl.addEventListener('click', containerClick);\n});\n\nfunction containerClick(event) {\n  let bookId;\n\n  if (event.target.tagName === 'BUTTON') {\n    getBookByCategory(event.target.dataset.catname);\n  }\n  if (event.target.classList.value.includes('js-ct')) {\n    bookId = event.target.parentElement.dataset.id;\n  }\n\n  if (bookId) {\n    callModal(bookId);\n    modalEl.classList.add('active');\n    modalCard.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    modalEl.addEventListener('click', modalBackdropClose);\n    document.addEventListener('keydown', escapeKeyClose);\n    closeButtonEl.addEventListener('click', modalCloseButtonClick);\n  }\n}\n"],"names":["parcelRequire","register","JSON","parse","$2shzp","$aab6d1c60b3e9a0a$export$34e0f9847d4c02dd","document","querySelector","async","$aab6d1c60b3e9a0a$export$71eec30d9db46a56","resp","default","get","insertAdjacentHTML","data","html","forEach","el","catName","list_name","list","books","map","book_image","author","title","_id","join","$aab6d1c60b3e9a0a$var$markup","err","$iQIUW","Notify","warning","firstChild","$f3b06000f9b46fbb$var$categoryList","$f3b06000f9b46fbb$export$3356e9d9184fb14f","changeCategory","$f3b06000f9b46fbb$require$axios","then","markup2","innerHTML","titleElement","titleText","textContent","words","split","lastWord","length","replace","$f3b06000f9b46fbb$var$renderedBookCardItem","addEventListener","event","btn1","target","dataset","catname","itemEl","Array","from","querySelectorAll","findElem","find","li","innerText","allCat","toLowerCase","classList","remove","add","idElem","elem","tagName","trim","markup1","$f3b06000f9b46fbb$var$renderCategory","error","$f3b06000f9b46fbb$var$getCategoryList","$41f4bfe0f5168ce2$exports","URL","resolve","import","meta","url","toString","$3ca8d0030c988c1e$exports","$023b18512ced0622$exports","$8a7e756c566dd1ea$var$modalEl","$8a7e756c566dd1ea$var$modalCard","$8a7e756c566dd1ea$var$closeButtonEl","$8a7e756c566dd1ea$var$modalShoppingEl","$8a7e756c566dd1ea$var$scrollUpBntEl","$8a7e756c566dd1ea$var$bookIdent","$8a7e756c566dd1ea$var$closeModal","body","style","overflow","$8a7e756c566dd1ea$var$fetchBookDetails","bookId","response","fetch","ok","Error","status","statusText","json","$8a7e756c566dd1ea$var$callModal","bookData","modalMarkup","description","buy_links","$parcel$interopDefault","$8a7e756c566dd1ea$var$renderModal","forAmazonFilterModal","localStorage","getItem","$8a7e756c566dd1ea$var$imgFilterAmazon","bookIdent3","some","book","modalBtn","submitShoppingEl","disabled","$8a7e756c566dd1ea$var$handleRemoveButtonClick","$8a7e756c566dd1ea$var$handleAddButtonClick","$8a7e756c566dd1ea$var$renderModalButton","bookIdent1","savedBook","savedBooks","push","setItem","stringify","$8a7e756c566dd1ea$var$saveObjectLocal","$8a7e756c566dd1ea$var$removeModalButtonEventListeners","bookIdent2","index","findIndex","splice","$8a7e756c566dd1ea$var$deleteObjectLocal","removeEventListener","$8a7e756c566dd1ea$var$modalBackdropClose","$8a7e756c566dd1ea$var$removeModalEventListeners","$8a7e756c566dd1ea$var$modalCloseButtonClick","$8a7e756c566dd1ea$var$escapeKeyClose","key","$8a7e756c566dd1ea$var$containerClick","value","includes","parentElement","id","window"],"version":3,"file":"index.a93f99b3.js.map"}